{
"version":3,
"file":"goog.dom.browserrange.browserrange.js",
"lineCount":92,
"mappings":"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",
"sources":["goog/dom/browserrange/browserrange.js"],
"sourcesContent":["// Copyright 2007 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Definition of the browser range namespace and interface, as\n * well as several useful utility functions.\n *\n * DO NOT USE THIS FILE DIRECTLY.  Use goog.dom.Range instead.\n *\n * @author robbyw@google.com (Robby Walker)\n */\n\n\ngoog.provide('goog.dom.browserrange');\ngoog.provide('goog.dom.browserrange.Error');\n\ngoog.require('goog.dom');\ngoog.require('goog.dom.BrowserFeature');\ngoog.require('goog.dom.NodeType');\ngoog.require('goog.dom.browserrange.GeckoRange');\ngoog.require('goog.dom.browserrange.IeRange');\ngoog.require('goog.dom.browserrange.OperaRange');\ngoog.require('goog.dom.browserrange.W3cRange');\ngoog.require('goog.dom.browserrange.WebKitRange');\ngoog.require('goog.userAgent');\n\n\n/**\n * Common error constants.\n * @enum {string}\n */\ngoog.dom.browserrange.Error = {\n  NOT_IMPLEMENTED: 'Not Implemented'\n};\n\n\n// NOTE(robbyw): While it would be nice to eliminate the duplicate switches\n//               below, doing so uncovers bugs in the JsCompiler in which\n//               necessary code is stripped out.\n\n\n/**\n * Static method that returns the proper type of browser range.\n * @param {Range|TextRange} range A browser range object.\n * @return {!goog.dom.browserrange.AbstractRange} A wrapper object.\n */\ngoog.dom.browserrange.createRange = function(range) {\n  if (goog.dom.BrowserFeature.LEGACY_IE_RANGES) {\n    return new goog.dom.browserrange.IeRange(\n        /** @type {TextRange} */ (range),\n        goog.dom.getOwnerDocument(range.parentElement()));\n  } else if (goog.userAgent.WEBKIT) {\n    return new goog.dom.browserrange.WebKitRange(\n        /** @type {Range} */ (range));\n  } else if (goog.userAgent.GECKO) {\n    return new goog.dom.browserrange.GeckoRange(\n        /** @type {Range} */ (range));\n  } else if (goog.userAgent.OPERA) {\n    return new goog.dom.browserrange.OperaRange(\n        /** @type {Range} */ (range));\n  } else {\n    // Default other browsers, including Opera, to W3c ranges.\n    return new goog.dom.browserrange.W3cRange(\n        /** @type {Range} */ (range));\n  }\n};\n\n\n/**\n * Static method that returns the proper type of browser range.\n * @param {Node} node The node to select.\n * @return {!goog.dom.browserrange.AbstractRange} A wrapper object.\n */\ngoog.dom.browserrange.createRangeFromNodeContents = function(node) {\n  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)) {\n    return goog.dom.browserrange.IeRange.createFromNodeContents(node);\n  } else if (goog.userAgent.WEBKIT) {\n    return goog.dom.browserrange.WebKitRange.createFromNodeContents(node);\n  } else if (goog.userAgent.GECKO) {\n    return goog.dom.browserrange.GeckoRange.createFromNodeContents(node);\n  } else if (goog.userAgent.OPERA) {\n    return goog.dom.browserrange.OperaRange.createFromNodeContents(node);\n  } else {\n    // Default other browsers to W3c ranges.\n    return goog.dom.browserrange.W3cRange.createFromNodeContents(node);\n  }\n};\n\n\n/**\n * Static method that returns the proper type of browser range.\n * @param {Node} startNode The node to start with.\n * @param {number} startOffset The offset within the node to start.  This is\n *     either the index into the childNodes array for element startNodes or\n *     the index into the character array for text startNodes.\n * @param {Node} endNode The node to end with.\n * @param {number} endOffset The offset within the node to end.  This is\n *     either the index into the childNodes array for element endNodes or\n *     the index into the character array for text endNodes.\n * @return {!goog.dom.browserrange.AbstractRange} A wrapper object.\n */\ngoog.dom.browserrange.createRangeFromNodes = function(\n    startNode, startOffset, endNode, endOffset) {\n  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)) {\n    return goog.dom.browserrange.IeRange.createFromNodes(\n        startNode, startOffset, endNode, endOffset);\n  } else if (goog.userAgent.WEBKIT) {\n    return goog.dom.browserrange.WebKitRange.createFromNodes(\n        startNode, startOffset, endNode, endOffset);\n  } else if (goog.userAgent.GECKO) {\n    return goog.dom.browserrange.GeckoRange.createFromNodes(\n        startNode, startOffset, endNode, endOffset);\n  } else if (goog.userAgent.OPERA) {\n    return goog.dom.browserrange.OperaRange.createFromNodes(\n        startNode, startOffset, endNode, endOffset);\n  } else {\n    // Default other browsers to W3c ranges.\n    return goog.dom.browserrange.W3cRange.createFromNodes(\n        startNode, startOffset, endNode, endOffset);\n  }\n};\n\n\n/**\n * Tests whether the given node can contain a range end point.\n * @param {Node} node The node to check.\n * @return {boolean} Whether the given node can contain a range end point.\n */\ngoog.dom.browserrange.canContainRangeEndpoint = function(node) {\n  // NOTE(user, bloom): This is not complete, as divs with style -\n  // 'display:inline-block' or 'position:absolute' can also not contain range\n  // endpoints. A more complete check is to see if that element can be partially\n  // selected (can be container) or not.\n  return goog.dom.canHaveChildren(node) ||\n      node.nodeType == goog.dom.NodeType.TEXT;\n};\n"],
"names":["goog","provide","require","dom","browserrange","Error","NOT_IMPLEMENTED","createRange","goog.dom.browserrange.createRange","range","BrowserFeature","LEGACY_IE_RANGES","IeRange","getOwnerDocument","parentElement","userAgent","WEBKIT","WebKitRange","GECKO","GeckoRange","OPERA","OperaRange","W3cRange","createRangeFromNodeContents","goog.dom.browserrange.createRangeFromNodeContents","node","IE","isDocumentModeOrHigher","createFromNodeContents","createRangeFromNodes","goog.dom.browserrange.createRangeFromNodes","startNode","startOffset","endNode","endOffset","createFromNodes","canContainRangeEndpoint","goog.dom.browserrange.canContainRangeEndpoint","canHaveChildren","nodeType","NodeType","TEXT"]
}
