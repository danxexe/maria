{"version":3,"sources":["maria/views/error.cljs"],"mappings":";;;;;AAKA;;;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAYa,AAGT,AAAAC,AAAwBG,AAAMC;AAA9B,AAAA,AAAAH,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAZ,AAAA,AAAAY,AAAA,AAAA,AAAA,AAAA,AAAAX,AAAAC,AAAAU,AAAAA;AAAA,AAAAT,AAAAS,AAAA,AAAaC;AAAb,AACE,AAAMA;AAAN,AAAe,AAACA,AAAAA,AAAAA,AAASC,AAAAA,AAAMC,AAAAA;;AAA/B;;AAJL,AAAA,AAAAjB,AAQsBoB;AARtB,AAAA,AAAAnB,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAAA,AAOUiB;AAPV,AAAAb,AAAAJ,AAAA,AAQWkB;AARX,AAAA,AAAAb,AAAA,AASE,AAAAe,AAAuB,AAAAG,AAAA,AAAAC,AAAUP;AAAVQ,AAAA;AAAA,AAAA,AAAA,AAAAC,AAAAF;AAAA,AAAA,AAAA,AAAA,AAAAE,AAAA,AAAA,AAAAC,AAAAF,AAAAC;;AAAA,AAAAF,AAAAC;;AAAAG;;;AAAAC,AAAA;AAAA,AAAA,AAAA,AAAAC,AAAAP;AAAA,AAAA,AAAA,AAAA,AAAAO,AAAA,AAAA,AAAAH,AAAAE,AAAAC;;AAAA,AAAAP,AAAAM;;AAAAD;;;AAAvB,AAAA,AAAA,AAAAR,AAAA;AAIED;;AAJF,AAAAE,AAAAD;AAAA,AAAAE,AAAAD,AAAA,AAAA,AAAWN;AAAX,AAAAO,AAAAD,AAAA,AAAA,AAAiBL;AAAjB,AACE,AAAAe,AAAI,AAAA,AAAA,AAAMb,AAAS,AAACA,AAAAA,AAAAA,AAASH,AAAAA,AAAMC,AAAAA;AAAnC,AAAA,AAAAe;AAAAA;;AAAA,AAAA,AAC8C,AAAAA,AAAI,AAAAC,AAASjB;AAAT,AAAA,AAAA,AAAAiB,AAAA;AAAA;;AAAe,AAAAA;;;AAAnB,AAAA,AAAAD;AAAAA;;AAAA;;;;;;AAXlD,AAAA,AAAA,AAMG,AAAKhB,AAAMC;AAAX,AAAA,AAAA,AAAsCD,AAAMC;AAN/C,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAV;AAAA,AAAA,AAAAC,AAAA;AAAA,AAAA,AAAAC,AAAAD,AAAAD;;AAAA,AAAAG,AAAAF;AAAA,AAAA,AAAAG,AAAA,AAAA,AAAA,AAAAD,AAAA,AAAAA,AAQ0B;AAR1B,AAAA,AAAA,AAAAC,AAAA;;AAAAA;AAAA;AAAAH","names":["chia.view.class/view*","p__66724","map__66725","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","chia.view.props/to-element","props66720","G__66718","chia.view.class/Component","obj66748","obj66749","maria.views.error/error-boundary","p__66721","map__66722","on-error","error","info","this","fallback","child","temp__5722__auto__","vec__66737","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","obj66732","obj66730","k66731","obj66734","applied-science.js-interop.impl/in?*","js/undefined","k66733","obj66735","or__4131__auto__","G__66743"],"sourcesContent":["(ns maria.views.error\n  (:require [chia.view :as v]\n            [maria.eval :as e]\n            [applied-science.js-interop :as j]))\n\n(v/defclass error-boundary\n  \"Error boundary, per React 16\"\n  {:view/did-catch\n   (fn [{:keys [on-error]} error info]\n     (when on-error (on-error error info)))\n   :static/get-derived-state-from-error\n   (fn [error info] #js{:error-state #js[error info]})}\n  [{:as   this\n    :keys [fallback]} child]\n  (if-some [[error info] (j/get-in this [:state :error-state])]\n    (or (when fallback (fallback error info))\n        [:.bg-washed-red.flex.items-center.tc.pa2 (or (some->> error (.-message))\n                                                      \"Render error\")])\n    child))"]}