shadow$provide[18]=function(C,X,R,P,t,fa){(function(){var C={}.hasOwnProperty,l=[].indexOf||function(l){for(var g=0,m=this.length;g<m;g++)if(g in this&&this[g]===l)return g;return-1};var P={is_unordered:!1,is_counting:!1,is_exclusive:!1,is_solitary:!1,prevent_default:!1,prevent_repeat:!1,normalize_caps_lock:!1};var x="meta alt option ctrl shift cmd".split(" ");var R="ctrl";var u=function(l){var g,m,q;"string"===typeof l&&(l=l.split(" "));if(Array.isArray(l)){var r=[];var v=m=0;for(q=l.length;0<=q?
m<q:m>q;v=0<=q?++m:--m){var u=l[v];(g=Y[u])&&(u=l[v]=g);"meta"===u&&l.splice(v,1,R);"cmd"===u?r.push(z('Warning: use the "meta" key rather than "cmd" for Windows compatibility')):r.push(void 0)}return r}};var H={debug:!1};var K=function(){function l(g){var m;for(m in g)if(C.call(g,m)){var l=g[m];!1!==l&&(this[m]=l)}this.keys=this.keys||[];this.count=this.count||0}l.prototype.allows_key_repeat=function(){return!this.prevent_repeat&&"function"===typeof this.on_keydown};l.prototype.reset=function(){this.count=
0;return this.keyup_fired=null};return l}();H.Listener=function(){function t(g,m){var q;"undefined"!==typeof jQuery&&null!==jQuery&&g instanceof jQuery&&(1!==g.length&&z("Warning: your jQuery selector should have exactly one object."),g=g[0]);this.should_force_event_defaults=this.should_suppress_event_defaults=!1;this.sequence_delay=800;this._registered_combos=[];this._keys_down=[];this._active_combos=[];this._sequence=[];this._sequence_timer=null;this._prevent_capture=!1;this._defaults=m||{};for(q in P)C.call(P,
q)&&(m=P[q],this._defaults[q]=this._defaults[q]||m);this.element=g||document.body;g=function(g,m,l){goog.events.listen(g,m,function(g){return l(g.getBrowserEvent())},!0);return l};this.keydown_event=g(this.element,"keydown",function(g){return function(m){var q,r;m=m||window.event;var v="cmd"===R&&0<=l.call(g._keys_down,"cmd")&&"cmd"!==(q=U(null!=(r=m.keyCode)?r:m.key))&&"shift"!==q&&"alt"!==q&&"caps"!==q&&"tab"!==q;g._receive_input(m,!0);if(v)return g._receive_input(m,!1)}}(this));this.keyup_event=
g(this.element,"keyup",function(g){return function(m){m=m||window.event;return g._receive_input(m,!1)}}(this));this.blur_event=g(window,"blur",function(g){return function(){var m;var l=g._keys_down;var q=0;for(m=l.length;q<m;q++){var r=l[q];g._key_up(r,{})}return g._keys_down=[]}}(this))}t.prototype.destroy=function(){var g=function(g,l,r){return goog.events.unlisten(g,l,function(g){return r(g.getBrowserEvent())},!0)};g(this.element,"keydown",this.keydown_event);g(this.element,"keyup",this.keyup_event);
return g(window,"blur",this.blur_event)};t.prototype._cmd_bug_check=function(g){return"cmd"===R&&0<=l.call(this._keys_down,"cmd")&&0>l.call(g,"cmd")&&1<g.length?!1:!0};t.prototype._prevent_default=function(g,m){if((m||this.should_suppress_event_defaults)&&!this.should_force_event_defaults&&(g.preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation))return g.stopPropagation()};t.prototype._get_active_combos=function(g){var m=[];var q=X(this._keys_down,function(m){return m!==g&&0<=l.call(x,
m)});q.push(g);this._match_combo_arrays(q,function(g){return function(l){if(g._cmd_bug_check(l.keys))return m.push(l)}}(this));return m};t.prototype._get_potential_combos=function(g){var m;var q=[];var r=this._registered_combos;var v=0;for(m=r.length;v<m;v++){var t=r[v];t.is_sequence||0<=l.call(t.keys,g)&&this._cmd_bug_check(t.keys)&&q.push(t)}return q};t.prototype._add_to_active_combos=function(g){var m,q,r,v;var t=!1;var u=!0;var x=!1;if(0<=l.call(this._active_combos,g))return!0;if(this._active_combos.length){var A=
q=0;for(v=this._active_combos.length;0<=v?q<v:q>v;A=0<=v?++q:--q)if((m=this._active_combos[A])&&m.is_exclusive&&g.is_exclusive){m=m.keys;if(!t){var z=0;for(r=m.length;z<r;z++){var C=m[z];t=!0;if(0>l.call(g.keys,C)){t=!1;break}}}if(u&&!t){var H=g.keys;z=0;for(r=H.length;z<r;z++)if(C=H[z],u=!1,0>l.call(m,C)){u=!0;break}}t&&(x?(m=this._active_combos.splice(A,1)[0],null!=m&&m.reset()):(m=this._active_combos.splice(A,1,g)[0],null!=m&&m.reset(),x=!0),u=!1)}}u&&this._active_combos.unshift(g);return t||u};
t.prototype._remove_from_active_combos=function(g){var m,l;var r=m=0;for(l=this._active_combos.length;0<=l?m<l:m>l;r=0<=l?++m:--m){var v=this._active_combos[r];if(v===g){g=this._active_combos.splice(r,1)[0];g.reset();break}}};t.prototype._get_possible_sequences=function(){var g,m,q,r,v;var t=[];var u=this._registered_combos;var x=0;for(g=u.length;x<g;x++){var A=u[x];var z=m=1;for(r=this._sequence.length;1<=r?m<=r:m>=r;z=1<=r?++m:--m){var C=this._sequence.slice(-z);if(A.is_sequence){if(0>l.call(A.keys,
"shift")&&(C=X(C,function(g){return"shift"!==g}),!C.length))continue;z=q=0;for(v=C.length;0<=v?q<v:q>v;z=0<=v?++q:--q)if(A.keys[z]===C[z])var H=!0;else{H=!1;break}H&&t.push(A)}}}return t};t.prototype._add_key_to_sequence=function(g,m){var l;this._sequence.push(g);var r=this._get_possible_sequences();if(r.length){var v=0;for(l=r.length;v<l;v++)g=r[v],this._prevent_default(m,g.prevent_default);this._sequence_timer&&clearTimeout(this._sequence_timer);-1<this.sequence_delay&&(this._sequence_timer=setTimeout(function(g){return function(){return g._sequence=
[]}}(this),this.sequence_delay))}else this._sequence=[]};t.prototype._get_sequence=function(g){var m,q,r,v,t;var u=this._registered_combos;var x=0;for(m=u.length;x<m;x++){var A=u[x];if(A.is_sequence){var z=q=1;for(v=this._sequence.length;1<=v?q<=v:q>=v;z=1<=v?++q:--q){var C=X(this._sequence,function(g){return 0<=l.call(A.keys,"shift")?!0:"shift"!==g}).slice(-z);if(A.keys.length===C.length)for(z=r=0,t=C.length;0<=t?r<t:r>t;z=0<=t?++r:--r){var H=C[z];if(!(0>l.call(A.keys,"shift")&&"shift"===H||"shift"===
g&&0>l.call(A.keys,"shift")))if(A.keys[z]===H)var J=!0;else{J=!1;break}}}if(J)return A.is_exclusive&&(this._sequence=[]),A}}return!1};t.prototype._receive_input=function(g,m){var l;if(this._prevent_capture)this._keys_down.length&&(this._keys_down=[]);else{var r=U(null!=(l=g.keyCode)?l:g.key);if((m||this._keys_down.length||"alt"!==r&&r!==R)&&r)return m?this._key_down(r,g):this._key_up(r,g)}};t.prototype._fire=function(g,m,l,r){"function"===typeof m["on_"+g]&&this._prevent_default(l,!0!==m["on_"+g].call(m["this"],
l,m.count,r));"release"===g&&(m.count=0);if("keyup"===g)return m.keyup_fired=!0};t.prototype._match_combo_arrays=function(g,m){var q;var r=this._registered_combos;var v=0;for(q=r.length;v<q;v++){var t=r[v];var u=g.slice(0);t.normalize_caps_lock&&0<=l.call(u,"caps")&&u.splice(u.indexOf("caps"),1);(!t.is_unordered&&ba(u,t.keys)||t.is_unordered&&J(u,t.keys))&&m(t)}};t.prototype._fuzzy_match_combo_arrays=function(g,m){var l;var r=this._registered_combos;var v=0;for(l=r.length;v<l;v++){var t=r[v];(!t.is_unordered&&
Ic(t.keys,g)||t.is_unordered&&ma(t.keys,g))&&m(t)}};t.prototype._keys_remain=function(g){var m;var q=g.keys;var r=0;for(m=q.length;r<m;r++)if(g=q[r],0<=l.call(this._keys_down,g)){var t=!0;break}return t};t.prototype._key_down=function(g,m){var q,r;for(u in Fa){var t=Fa[u];m[t]&&(u===g||0<=l.call(this._keys_down,u)||this._keys_down.push(u))}for(u in Fa)if(t=Fa[u],u!==g&&0<=l.call(this._keys_down,u)&&!m[t]&&("cmd"!==u||"cmd"===R))for(t=q=0,r=this._keys_down.length;0<=r?q<r:q>r;t=0<=r?++q:--q)this._keys_down[t]===
u&&this._keys_down.splice(t,1);q=this._get_active_combos(g);var u=this._get_potential_combos(g);var x=0;for(r=q.length;x<r;x++)t=q[x],this._handle_combo_down(t,u,g,m);if(u.length)for(q=0,t=u.length;q<t;q++)r=u[q],this._prevent_default(m,r.prevent_default);0>l.call(this._keys_down,g)&&this._keys_down.push(g)};t.prototype._handle_combo_down=function(g,m,q,r){var t;if(0>l.call(g.keys,q))return!1;this._prevent_default(r,g&&g.prevent_default);var u=!1;if(0<=l.call(this._keys_down,q)&&(u=!0,!g.allows_key_repeat()))return!1;
var x=this._add_to_active_combos(g,q);q=g.keyup_fired=!1;if(g.is_exclusive){var A=0;for(t=m.length;A<t;A++){var z=m[A];if(z.is_exclusive&&z.keys.length>g.keys.length){q=!0;break}}}if(!q&&(g.is_counting&&"function"===typeof g.on_keydown&&(g.count+=1),x))return this._fire("keydown",g,r,u)};t.prototype._key_up=function(g,m){var q,r,t,u;(t=this._get_sequence(g))&&this._fire("keyup",t,m);if(0>l.call(this._keys_down,g))return!1;t=q=0;for(r=this._keys_down.length;0<=r?q<r:q>r;t=0<=r?++q:--q)if(this._keys_down[t]===
g){this._keys_down.splice(t,1);break}r=this._active_combos.length;t=[];var x=this._active_combos;var A=0;for(u=x.length;A<u;A++)q=x[A],0<=l.call(q.keys,g)&&t.push(q);A=0;for(u=t.length;A<u;A++)q=t[A],this._handle_combo_up(q,m,g);if(1<r)for(r=this._active_combos,m=0,g=r.length;m<g;m++)q=r[m],void 0===q||0<=l.call(t,q)||this._keys_remain(q)||this._remove_from_active_combos(q)};t.prototype._handle_combo_up=function(g,m,l){this._prevent_default(m,g&&g.prevent_default);var q=this._keys_remain(g);if(!g.keyup_fired){var t=
this._keys_down.slice();t.push(l);if(!g.is_solitary||J(t,g.keys))this._fire("keyup",g,m),g.is_counting&&"function"===typeof g.on_keyup&&"function"!==typeof g.on_keydown&&(g.count+=1)}q||(this._fire("release",g,m),this._remove_from_active_combos(g))};t.prototype.simple_combo=function(g,m){return this.register_combo({keys:g,on_keydown:m})};t.prototype.counting_combo=function(g,m){return this.register_combo({keys:g,is_counting:!0,is_unordered:!1,on_keydown:m})};t.prototype.sequence_combo=function(g,
m){return this.register_combo({keys:g,on_keydown:m,is_sequence:!0,is_exclusive:!0})};t.prototype.register_combo=function(g){var m;"string"===typeof g.keys&&(g.keys=g.keys.split(" "));var l=this._defaults;for(m in l)if(C.call(l,m)){var r=l[m];void 0===g[m]&&(g[m]=r)}g=new K(g);if(na(g))return this._registered_combos.push(g),g};t.prototype.register_many=function(g){var m;var l=[];var r=0;for(m=g.length;r<m;r++){var t=g[r];l.push(this.register_combo(t))}return l};t.prototype.unregister_combo=function(g){var m;
if(!g)return!1;u(g);var l=function(g){return function(m){var l,q;var r=[];var t=l=0;for(q=g._registered_combos.length;0<=q?l<q:l>q;t=0<=q?++l:--l)if(m===g._registered_combos[t]){g._registered_combos.splice(t,1);break}else r.push(void 0);return r}}(this);if(g instanceof K)return l(g);var r=this._registered_combos;var t=[];var x=0;for(m=r.length;x<m;x++){var A=r[x];null!=A&&(A.is_unordered&&J(g,A.keys)||!A.is_unordered&&ba(g,A.keys)?t.push(l(A)):t.push(void 0))}return t};t.prototype.unregister_many=
function(g){var m;var l=[];var r=0;for(m=g.length;r<m;r++){var t=g[r];l.push(this.unregister_combo(t))}return l};t.prototype.get_registered_combos=function(){return this._registered_combos};t.prototype.reset=function(){return this._registered_combos=[]};t.prototype.listen=function(){return this._prevent_capture=!1};t.prototype.stop_listening=function(){return this._prevent_capture=!0};t.prototype.get_meta_key=function(){return R};return t}();var U=function(l){return sa[l]};var X=function(l,g){if(l.filter)return l.filter(g);
var m;var q=[];var r=0;for(m=l.length;r<m;r++){var t=l[r];g(t)&&q.push(t)}return q};var J=function(t,g){var m;if(t.length!==g.length)return!1;var q=0;for(m=t.length;q<m;q++){var r=t[q];if(!(0<=l.call(g,r)))return!1}return!0};var ba=function(l,g){var m,q;if(l.length!==g.length)return!1;var r=m=0;for(q=l.length;0<=q?m<q:m>q;r=0<=q?++m:--m)if(l[r]!==g[r])return!1;return!0};var ma=function(t,g){var m;var q=0;for(m=t.length;q<m;q++){var r=t[q];if(0>l.call(g,r))return!1}return!0};var fa=Array.prototype.indexOf||
function(l,g){var m,q;var r=m=0;for(q=l.length;0<=q?m<=q:m>=q;r=0<=q?++m:--m)if(l[r]===g)return r;return-1};var Ic=function(l,g){var m,q;var r=q=0;for(m=l.length;r<m;r++){var t=l[r];t=fa.call(g,t);if(t>=q)q=t;else return!1}return!0};var z=function(){if(H.debug)return console.log.apply(console,arguments)};var ib=function(l){var g;var m=!1;for(g in sa){var q=sa[g];if(l===q){m=!0;break}}return m};var na=function(t){var g,m,q;var r=!0;t.keys.length||z("You're trying to bind a combo with no keys:",t);
u(t.keys);var v=t.keys;var A=0;for(m=v.length;A<m;A++){var C=v[A];ib(C)||(z('Do not recognize the key "'+C+'"'),r=!1)}if(0<=l.call(t.keys,"meta")||0<=l.call(t.keys,"cmd")){v=t.keys.slice();A=0;for(C=x.length;A<C;A++)m=x[A],-1<(g=fa.call(v,m))&&v.splice(g,1);1<v.length&&(z("META and CMD key combos cannot have more than 1 non-modifier keys",t,v),r=!1)}for(q in t)"undefined"===P[q]&&z("The property "+q+" is not a valid combo property. Your combo has still been registered.");return r};var Fa={cmd:"metaKey",
ctrl:"ctrlKey",shift:"shiftKey",alt:"altKey"};var Y={escape:"esc",control:"ctrl",command:"cmd","break":"pause",windows:"cmd",option:"alt",caps_lock:"caps",apostrophe:"'",semicolon:";",tilde:"~",accent:"`",scroll_lock:"scroll",num_lock:"num"};var sa={0:"\\",8:"backspace",9:"tab",12:"num",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",44:"print",45:"insert",46:"delete",48:"0",49:"1",
50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"cmd",92:"cmd",93:"cmd",96:"num_0",97:"num_1",98:"num_2",99:"num_3",100:"num_4",101:"num_5",102:"num_6",103:"num_7",104:"num_8",105:"num_9",106:"num_multiply",107:"num_add",108:"num_enter",109:"num_subtract",110:"num_decimal",111:"num_divide",112:"f1",113:"f2",
114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",124:"print",144:"num",145:"scroll",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"`",224:"cmd",225:"alt",57392:"ctrl",63289:"num",59:";",61:"\x3d",173:"-"};H._keycode_dictionary=sa;H._is_array_in_array_sorted=Ic;-1!==navigator.userAgent.indexOf("Mac OS X")&&(R="cmd");-1!==navigator.userAgent.indexOf("Opera")&&(sa["17"]="cmd");"function"===typeof define&&define.amd?
define([],function(){return H}):"undefined"!==typeof t&&null!==t?t.keypress=H:window.keypress=H}).call(this)}
goog.provide("module$node_modules$$braintripping$keypress_js$keypress");
goog.global. module$node_modules$$braintripping$keypress_js$keypress=shadow.js.require(18, {});
