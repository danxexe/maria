{
"version":3,
"file":"goog.dom.browserrange.geckorange.js",
"lineCount":38,
"mappings":"AAwBAA,IAAAC,QAAA,CAAa,kCAAb,CAAA;AAEAD,IAAAE,QAAA,CAAa,gCAAb,CAAA;AAWA;;;;;;AAAAF,IAAAG,IAAAC,aAAAC,WAAA,GAAmCC,QAAQ,CAACC,KAAD,CAAQ;AACjDP,MAAAG,IAAAC,aAAAI,SAAAC,KAAA,CAAoC,IAApC,EAA0CF,KAA1C,CAAA;AADiD,CAAnD;AAGAP,IAAAU,SAAA,CAAcV,IAAAG,IAAAC,aAAAC,WAAd,EAAgDL,IAAAG,IAAAC,aAAAI,SAAhD,CAAA;AAQA;;;;AAAAR,IAAAG,IAAAC,aAAAC,WAAAM,uBAAA,GAA0DC,QAAQ,CAACC,IAAD,CAAO;AACvE,SAAO,IAAIb,IAAAG,IAAAC,aAAAC,WAAJ,CACHL,IAAAG,IAAAC,aAAAI,SAAAM,uBAAA,CAAsDD,IAAtD,CADG,CAAP;AADuE,CAAzE;AAcA;;;;;;;AAAAb,IAAAG,IAAAC,aAAAC,WAAAU,gBAAA,GAAmDC,QAAQ,CACvDC,SADuD,EAC5CC,WAD4C,EAC/BC,OAD+B,EACtBC,SADsB,CACX;AAC9C,SAAO,IAAIpB,IAAAG,IAAAC,aAAAC,WAAJ,CACHL,IAAAG,IAAAC,aAAAI,SAAAa,wBAAA,CACIJ,SADJ,EACeC,WADf,EAC4BC,OAD5B,EACqCC,SADrC,CADG,CAAP;AAD8C,CADhD;AASA,iBAAApB,IAAAG,IAAAC,aAAAC,WAAAiB,UAAAC,eAAA,GAA4DC,QAAQ,CAChEC,SADgE,EACrDC,QADqD,CAC3C;AACvB,MAAI,CAACA,QAAL,IAAiB,IAAAC,YAAA,EAAjB;AAKE3B,QAAAG,IAAAC,aAAAC,WAAAuB,KAAA,CACI,IADJ,EACU,gBADV,EAC4BH,SAD5B,EACuCC,QADvC,CAAA;AALF,QAOO;AAILD,aAAAI,SAAA,CAAmB,IAAAC,WAAA,EAAnB,EAAsC,IAAAC,aAAA,EAAtC,CAAA;AACAN,aAAAO,OAAA,CAAiB,IAAAC,aAAA,EAAjB,EAAsC,IAAAC,eAAA,EAAtC,CAAA;AALK;AARgB,CADzB;;",
"sources":["goog/dom/browserrange/geckorange.js"],
"sourcesContent":["// Copyright 2007 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Definition of the Gecko specific range wrapper.  Inherits most\n * functionality from W3CRange, but adds exceptions as necessary.\n *\n * DO NOT USE THIS FILE DIRECTLY.  Use goog.dom.Range instead.\n *\n * @author robbyw@google.com (Robby Walker)\n */\n\n\ngoog.provide('goog.dom.browserrange.GeckoRange');\n\ngoog.require('goog.dom.browserrange.W3cRange');\n\n\n\n/**\n * The constructor for Gecko specific browser ranges.\n * @param {Range} range The range object.\n * @constructor\n * @extends {goog.dom.browserrange.W3cRange}\n * @final\n */\ngoog.dom.browserrange.GeckoRange = function(range) {\n  goog.dom.browserrange.W3cRange.call(this, range);\n};\ngoog.inherits(goog.dom.browserrange.GeckoRange, goog.dom.browserrange.W3cRange);\n\n\n/**\n * Creates a range object that selects the given node's text.\n * @param {Node} node The node to select.\n * @return {!goog.dom.browserrange.GeckoRange} A Gecko range wrapper object.\n */\ngoog.dom.browserrange.GeckoRange.createFromNodeContents = function(node) {\n  return new goog.dom.browserrange.GeckoRange(\n      goog.dom.browserrange.W3cRange.getBrowserRangeForNode(node));\n};\n\n\n/**\n * Creates a range object that selects between the given nodes.\n * @param {Node} startNode The node to start with.\n * @param {number} startOffset The offset within the node to start.\n * @param {Node} endNode The node to end with.\n * @param {number} endOffset The offset within the node to end.\n * @return {!goog.dom.browserrange.GeckoRange} A wrapper object.\n */\ngoog.dom.browserrange.GeckoRange.createFromNodes = function(\n    startNode, startOffset, endNode, endOffset) {\n  return new goog.dom.browserrange.GeckoRange(\n      goog.dom.browserrange.W3cRange.getBrowserRangeForNodes(\n          startNode, startOffset, endNode, endOffset));\n};\n\n\n/** @override */\ngoog.dom.browserrange.GeckoRange.prototype.selectInternal = function(\n    selection, reversed) {\n  if (!reversed || this.isCollapsed()) {\n    // The base implementation for select() is more robust, and works fine for\n    // collapsed and forward ranges.  This works around\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=773137, and is tested by\n    // range_test.html's testFocusedElementDisappears.\n    goog.dom.browserrange.GeckoRange.base(\n        this, 'selectInternal', selection, reversed);\n  } else {\n    // Reversed selection -- start with a caret on the end node, and extend it\n    // back to the start.  Unfortunately, collapse() fails when focus is\n    // invalid.\n    selection.collapse(this.getEndNode(), this.getEndOffset());\n    selection.extend(this.getStartNode(), this.getStartOffset());\n  }\n};\n"],
"names":["goog","provide","require","dom","browserrange","GeckoRange","goog.dom.browserrange.GeckoRange","range","W3cRange","call","inherits","createFromNodeContents","goog.dom.browserrange.GeckoRange.createFromNodeContents","node","getBrowserRangeForNode","createFromNodes","goog.dom.browserrange.GeckoRange.createFromNodes","startNode","startOffset","endNode","endOffset","getBrowserRangeForNodes","prototype","selectInternal","goog.dom.browserrange.GeckoRange.prototype.selectInternal","selection","reversed","isCollapsed","base","collapse","getEndNode","getEndOffset","extend","getStartNode","getStartOffset"]
}
